syntax = "proto3";
	
package cache;

service Cache {
  rpc Set(SetRequest) returns (SetReply) {}
  rpc Get(GetRequest) returns (GetReply) {}
  rpc Add(AddRequest) returns (AddReply) {}
  rpc Replace(ReplaceRequest) returns (ReplaceReply) {}
  rpc Touch(TouchRequest) returns (TouchReply) {}
}

// CacheItem encapsulates any in/out cache values into a single message
// structure. Some values may not be pertinent in some situations (i.e. you
// can't set the cas).
message CacheItem {
  string key = 1;
  bytes value = 2;
  int64 ttl = 3;
  int64 cas = 4;
}

message SetRequest {
  CacheItem item = 1;
}

message SetReply {
  CacheItem item = 1;
}

message GetRequest {
  CacheItem item = 1;
}

message GetReply {
  CacheItem item = 1;
}

message AddRequest {
  CacheItem item = 1;
}

message AddReply {
  CacheItem item = 1;
}

message ReplaceRequest {
  CacheItem item = 1;
}

message ReplaceReply {
  CacheItem item = 1;
}

message TouchRequest { 
  CacheItem item = 1;
}

message TouchReply {
  CacheItem item = 1;
}


